# p.119-139

Created: February 16, 2022 11:23 PM

## 권한 및 그룹 설정

리눅스 모든 파일과 디렉터리에는 `접근권한`과 `소유권`이 부여된다.

<aside>
🍀 **소유권 관련 명령어**

</aside>

1. **chown** 
    - 파일과 디렉터리의 사용자 소유권과 그룹 소유권을 변경
    - [옵션] -R : 하위 디렉토리를 포함하여 디렉터리 내부의 모든 파일의 소유권 변경
    - `#chown [옵션] 소유자[:그룹명] 파일명`

1. **chgrp** 
    - 그룹 소유권만 을 변경

<aside>
🍀 **허가권 관련 명령어**

</aside>

1. `ls -l` : 파일 유형과 허가권을 알 수 있다.
    - - rw-rw-r— : (-)은 **파일유형**을 나타내고, 그 뒤는 **파일 접근 권한**을 나타낸다.
        - 파일유형: **-** (일반), **d**(디렉터리), **b**(블록장치특수파일,하드디스크 등),**c**(문자특수파일,마우스 등),**l**(바로가기 아이콘 수행),**p**(파이프),**s**(소켓)
        - 사용자별 권한은 **`‘기호 모드 (r,w,x)’`**와 `**‘8진수 숫자모드(4,2,1)’**`로 표시한다.
        
2. **chmod**
    - 파일이나 디렉터리의 접근 허가권 변경
3. **umask**
    - 새로 생성되는 파일이나 디렉터리의 기본 허가권 값 지정
    - 파일의 기본 권한: 666, 디렉터리의 기본 권한: 777
    - [옵션] **-S** : umask 값을 문자로 표기
    - 디폴트 권한 값에서 umask 값을 뺀 값을 기본 허가권 값으로 재지정한다.
    

<aside>
🍀 **특수 권한**

</aside>

1. **SetUID 와 SetGID**
    - 프로세스가 실행되는 동안 해당 프로세스의 root 권한을 임시로 가져오는 기능
    - SetGID 권한이 명시된 디렉터리에 생성되는 모든 하위 디렉터리나 파일도 SetGID 권한을 가진다.
    - 권한 변경  ‘chmod 4744’

✅ 소문자 ‘s’ 와 대문자 ‘S’

- 실행 파일에 setuid 설정을 하면 소문자 ‘s’가 되고 실행 가능한 상태가 된다.
- 실행 파일이 아닌데 설정하면 대문자 ‘S’ 가 나오고 실행할 수 없는 상태이다.

1. **Sticky bit**
    - 공용 디렉터리를 사용할 때, 권한에 제약을 두어 파일을 보호하기 위해 만든다.
    - 사용자 권한을 지정하기 어려운 프로그램들이 일시적으로 특정한 다른 티렉터리에 파일을 생성하고 삭제할 수 있게 한다
    →  특정 프로그램이 다른 프로그램에서 생성한 파일을 삭제하지 못하는 권한 설정을 한다.
    - **누구나 접근 가능,파일 생성 할 수 있지만, 삭제는 소유자만 가능하다**

1. **디스크 쿼터 (Disk Quota**)
    - 생성할 수 있는 파일의 용량 및 개수를 제한
    - 블록 단위의 용량 제한, inode 개수 제한이 일반적
    - 쿼터는 사용자별, 파일 시스템별로 동작된다.